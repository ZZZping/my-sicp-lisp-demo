#lang sicp
;;1.11
;;recursive
(define (f1 n)
  (if (< n 3) n
      (+ (f1 (- n 1)) (* (f1 (- n 2)) 2) (* (f1 (- n 3)) 3))));

;;iterative
(define (f2 n)
  (define (f2-iter a b c count)
    (if (< count 3) count
        (f2-iter (+ a (* b 2) (* c 3)) a b (- count 1))))
  (f2-iter 2 1 0 n))
;;(f2-iter 0 1 2 3)
;;
(define (f3 n)
  (define (f3-iter a b c count)
    (cond ((= count 0) c)
          ((= count 1) b)
          ((= count 2) a)
          (else (f3-iter (+ a (* b 2) (* c 3)) a b (- count 1)))))
  (f3-iter 2 1 0 n))